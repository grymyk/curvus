<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>Circle</title>
    <script type="text/javascript">
		var ctx = null;
		var canvas = null;
		var options = {
			radius: 50,
			angle: Math.PI / 30,
			translateX: 100,
			translateY: 100
		};
    
		function drawLines(options) {
			ctx.beginPath();
            
			for (var t = 0, period = 2 * Math.PI; t < period; t += options.angle) {
				var x = options.radius * Math.cos(t) + options.translateX;
				var y = options.radius * Math.sin(t) + options.translateY;
				
				ctx.lineTo(x, y);
			}
			
			ctx.closePath();
			
			ctx.stroke();
		}
    
		function clearCanvas() {
			ctx.clearRect(0, 0, canvas.width, canvas.height);
		}
		
		function drawPolygon(type, value) {
			clearCanvas();
			
			if (type === 'angle') {
				console.log('angle');
			
				value *= Math.PI / 180;
			}
			
			options[type] = value;
			
			drawLines(options);
		}
    
		function handler(event) {
			
			var target = event.target;
			
			if (target.tagName != 'INPUT') {
				return;
			}
			
			var value = +target.value;
			var type = target.getAttribute('data-type');
			
			drawPolygon(type, value);
		}
    
        function draw() {
            canvas = document.getElementById('tutorial');
            
            if (canvas.getContext){
                ctx = canvas.getContext('2d');
                
                var list = document.getElementById('list');
                
                list.addEventListener('change', handler);
                
                drawPolygon();
            }
        }
    </script>
    <style type="text/css">
        canvas { border: 1px solid #000; }
        
        dl {
			overflow: hidden;
        }
        
        dt, dd {
			margin: 10px 0 0;
			height: 22px;
			line-height: 22px;
        }
        
        dt {
			float: left;
			width: 100px;	
        }
    </style>
</head>
<body onload="draw();">
	<h1>Polygon Tests</h1>
	<dl id="list">
		<dt>Radius:</dt>
		<dd>
			<input type="number" data-type="radius" min="0" max="300" value="50" />
		</dd>
		<dt>Spread Angle:</dt>
		<dd>
			<input type="number" data-type="angle" min="1" max="180" value="120" />
		</dd>
		<dt>translateX:</dt>
		<dd>
			<input type="number" data-type="translateX" min="0" max="300" value="100" />
		</dd>
		<dt>translateY:</dt>
		<dd>
			<input type="number" data-type="translateY" min="0" max="300" value="100" />
		</dd>
	</dl>
    <canvas id="tutorial" width="300" height="300"></canvas>
</body>
</html>

